[//]: # "This file is autogenerated, do not change manually"

## IStore

[Git Source](https://github.com/latticexyz/mud/blob/main/packages/store/src/IStore.sol)

**Inherits:**
[IStoreKernel](/src/IStoreKernel.sol/interface.IStoreKernel.md), [IStoreRegistration](/store/reference/store#istoreregistration)

## IStoreEvents

[Git Source](https://github.com/latticexyz/mud/blob/main/packages/store/src/IStoreEvents.sol)

### Events

#### HelloStore

Emitted when the Store is created.

```solidity
event HelloStore(bytes32 indexed storeVersion);
```

**Parameters**

| Name           | Type      | Description                        |
| -------------- | --------- | ---------------------------------- |
| `storeVersion` | `bytes32` | The protocol version of the Store. |

#### Store_SetRecord

Emitted when a new record is set in the store.

```solidity
event Store_SetRecord(
  ResourceId indexed tableId,
  bytes32[] keyTuple,
  bytes staticData,
  EncodedLengths encodedLengths,
  bytes dynamicData
);
```

**Parameters**

| Name             | Type             | Description                                             |
| ---------------- | ---------------- | ------------------------------------------------------- |
| `tableId`        | `ResourceId`     | The ID of the table where the record is set.            |
| `keyTuple`       | `bytes32[]`      | An array representing the composite key for the record. |
| `staticData`     | `bytes`          | The static data of the record.                          |
| `encodedLengths` | `EncodedLengths` | The encoded lengths of the dynamic data of the record.  |
| `dynamicData`    | `bytes`          | The dynamic data of the record.                         |

#### Store_SpliceStaticData

Emitted when static data in the store is spliced.

_In static data, data is always overwritten starting at the start position,
so the total length of the data remains the same and no data is shifted._

```solidity
event Store_SpliceStaticData(ResourceId indexed tableId, bytes32[] keyTuple, uint48 start, bytes data);
```

**Parameters**

| Name       | Type         | Description                                                           |
| ---------- | ------------ | --------------------------------------------------------------------- |
| `tableId`  | `ResourceId` | The ID of the table where the data is spliced.                        |
| `keyTuple` | `bytes32[]`  | An array representing the key for the record.                         |
| `start`    | `uint48`     | The start position in bytes for the splice operation.                 |
| `data`     | `bytes`      | The data to write to the static data of the record at the start byte. |

#### Store_SpliceDynamicData

Emitted when dynamic data in the store is spliced.

```solidity
event Store_SpliceDynamicData(
  ResourceId indexed tableId,
  bytes32[] keyTuple,
  uint8 dynamicFieldIndex,
  uint48 start,
  uint40 deleteCount,
  EncodedLengths encodedLengths,
  bytes data
);
```

**Parameters**

| Name                | Type             | Description                                                                                                                                               |
| ------------------- | ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `tableId`           | `ResourceId`     | The ID of the table where the data is spliced.                                                                                                            |
| `keyTuple`          | `bytes32[]`      | An array representing the composite key for the record.                                                                                                   |
| `dynamicFieldIndex` | `uint8`          | The index of the dynamic field to splice data, relative to the start of the dynamic fields. (Dynamic field index = field index - number of static fields) |
| `start`             | `uint48`         | The start position in bytes for the splice operation.                                                                                                     |
| `deleteCount`       | `uint40`         | The number of bytes to delete in the splice operation.                                                                                                    |
| `encodedLengths`    | `EncodedLengths` | The encoded lengths of the dynamic data of the record.                                                                                                    |
| `data`              | `bytes`          | The data to insert into the dynamic data of the record at the start byte.                                                                                 |

#### Store_DeleteRecord

Emitted when a record is deleted from the store.

```solidity
event Store_DeleteRecord(ResourceId indexed tableId, bytes32[] keyTuple);
```

**Parameters**

| Name       | Type         | Description                                             |
| ---------- | ------------ | ------------------------------------------------------- |
| `tableId`  | `ResourceId` | The ID of the table where the record is deleted.        |
| `keyTuple` | `bytes32[]`  | An array representing the composite key for the record. |

## IStoreErrors

[Git Source](https://github.com/latticexyz/mud/blob/main/packages/store/src/IStoreErrors.sol)

This interface includes errors for Store.

_We bundle these errors in an interface (instead of at the file-level or in their corresponding library) so they can be inherited by IStore.
This ensures that all possible errors are included in the IStore ABI for proper decoding in the frontend._

### Errors

#### Store_TableAlreadyExists

Error raised if the provided table already exists.

```solidity
error Store_TableAlreadyExists(ResourceId tableId, string tableIdString);
```

**Parameters**

| Name            | Type         | Description                                                                            |
| --------------- | ------------ | -------------------------------------------------------------------------------------- |
| `tableId`       | `ResourceId` | The ID of the table.                                                                   |
| `tableIdString` | `string`     | The stringified ID of the table (for easier debugging if cleartext tableIds are used). |

#### Store_TableNotFound

Error raised if the provided table cannot be found.

```solidity
error Store_TableNotFound(ResourceId tableId, string tableIdString);
```

**Parameters**

| Name            | Type         | Description                                                                            |
| --------------- | ------------ | -------------------------------------------------------------------------------------- |
| `tableId`       | `ResourceId` | The ID of the table.                                                                   |
| `tableIdString` | `string`     | The stringified ID of the table (for easier debugging if cleartext tableIds are used). |

#### Store_InvalidResourceType

Error raised if the provided resource ID cannot be found.

```solidity
error Store_InvalidResourceType(bytes2 expected, ResourceId resourceId, string resourceIdString);
```

**Parameters**

| Name               | Type         | Description                                         |
| ------------------ | ------------ | --------------------------------------------------- |
| `expected`         | `bytes2`     | The expected resource type.                         |
| `resourceId`       | `ResourceId` | The resource ID.                                    |
| `resourceIdString` | `string`     | The stringified resource ID (for easier debugging). |

#### Store_InvalidBounds

Error raised if the provided slice bounds are invalid.

```solidity
error Store_InvalidBounds(uint256 start, uint256 end);
```

**Parameters**

| Name    | Type      | Description                                                                   |
| ------- | --------- | ----------------------------------------------------------------------------- |
| `start` | `uint256` | The start index within the dynamic field for the slice operation (inclusive). |
| `end`   | `uint256` | The end index within the dynamic field for the slice operation (exclusive).   |

#### Store_IndexOutOfBounds

Error raised if the provided index is out of bounds.

_Raised if the start index is larger than the previous length of the field._

```solidity
error Store_IndexOutOfBounds(uint256 length, uint256 accessedIndex);
```

**Parameters**

| Name            | Type      | Description |
| --------------- | --------- | ----------- |
| `length`        | `uint256` | FIXME       |
| `accessedIndex` | `uint256` | FIXME       |

#### Store_InvalidStaticDataLength

Error raised if the provided static data length is invalid.

```solidity
error Store_InvalidStaticDataLength(uint256 expected, uint256 received);
```

**Parameters**

| Name       | Type      | Description          |
| ---------- | --------- | -------------------- |
| `expected` | `uint256` | The expected length. |
| `received` | `uint256` | The provided length. |

#### Store_InvalidKeyNamesLength

Error raised if the provided key names length is invalid.

```solidity
error Store_InvalidKeyNamesLength(uint256 expected, uint256 received);
```

**Parameters**

| Name       | Type      | Description          |
| ---------- | --------- | -------------------- |
| `expected` | `uint256` | The expected length. |
| `received` | `uint256` | The provided length. |

#### Store_InvalidFieldNamesLength

Error raised if the provided field names length is invalid.

```solidity
error Store_InvalidFieldNamesLength(uint256 expected, uint256 received);
```

**Parameters**

| Name       | Type      | Description          |
| ---------- | --------- | -------------------- |
| `expected` | `uint256` | The expected length. |
| `received` | `uint256` | The provided length. |

#### Store_InvalidValueSchemaLength

Error raised if the provided value schema length is invalid.

```solidity
error Store_InvalidValueSchemaLength(uint256 expected, uint256 received);
```

**Parameters**

| Name       | Type      | Description          |
| ---------- | --------- | -------------------- |
| `expected` | `uint256` | The expected length. |
| `received` | `uint256` | The provided length. |

#### Store_InvalidValueSchemaStaticLength

Error raised if the provided schema static length is invalid.

```solidity
error Store_InvalidValueSchemaStaticLength(uint256 expected, uint256 received);
```

**Parameters**

| Name       | Type      | Description          |
| ---------- | --------- | -------------------- |
| `expected` | `uint256` | The expected length. |
| `received` | `uint256` | The provided length. |

#### Store_InvalidValueSchemaDynamicLength

Error raised if the provided schema dynamic length is invalid.

```solidity
error Store_InvalidValueSchemaDynamicLength(uint256 expected, uint256 received);
```

**Parameters**

| Name       | Type      | Description          |
| ---------- | --------- | -------------------- |
| `expected` | `uint256` | The expected length. |
| `received` | `uint256` | The provided length. |

#### Store_InvalidSplice

Error raised if the provided splice is invalid.

_Raised if the splice total length of the field is changed but the splice is not at the end of the field._

```solidity
error Store_InvalidSplice(uint40 startWithinField, uint40 deleteCount, uint40 fieldLength);
```

**Parameters**

| Name               | Type     | Description                                                |
| ------------------ | -------- | ---------------------------------------------------------- |
| `startWithinField` | `uint40` | The start index within the field for the splice operation. |
| `deleteCount`      | `uint40` | The number of bytes to delete in the splice operation.     |
| `fieldLength`      | `uint40` | The field length for the splice operation.                 |

## IStoreRead

[Git Source](https://github.com/latticexyz/mud/blob/main/packages/store/src/IStoreRead.sol)

### Functions

#### getFieldLayout

```solidity
function getFieldLayout(ResourceId tableId) external view returns (FieldLayout fieldLayout);
```

#### getValueSchema

```solidity
function getValueSchema(ResourceId tableId) external view returns (Schema valueSchema);
```

#### getKeySchema

```solidity
function getKeySchema(ResourceId tableId) external view returns (Schema keySchema);
```

#### getRecord

Get full record (all fields, static and dynamic data) for the given tableId and key tuple, loading the field layout from storage

```solidity
function getRecord(
  ResourceId tableId,
  bytes32[] calldata keyTuple
) external view returns (bytes memory staticData, EncodedLengths encodedLengths, bytes memory dynamicData);
```

#### getRecord

Get full record (all fields, static and dynamic data) for the given tableId and key tuple, with the given field layout

```solidity
function getRecord(
  ResourceId tableId,
  bytes32[] calldata keyTuple,
  FieldLayout fieldLayout
) external view returns (bytes memory staticData, EncodedLengths encodedLengths, bytes memory dynamicData);
```

#### getField

Get a single field from the given tableId and key tuple, loading the field layout from storage

```solidity
function getField(
  ResourceId tableId,
  bytes32[] calldata keyTuple,
  uint8 fieldIndex
) external view returns (bytes memory data);
```

#### getField

Get a single field from the given tableId and key tuple, with the given field layout

```solidity
function getField(
  ResourceId tableId,
  bytes32[] calldata keyTuple,
  uint8 fieldIndex,
  FieldLayout fieldLayout
) external view returns (bytes memory data);
```

#### getStaticField

Get a single static field from the given tableId and key tuple, with the given value field layout.
Note: the field value is left-aligned in the returned bytes32, the rest of the word is not zeroed out.
Consumers are expected to truncate the returned value as needed.

```solidity
function getStaticField(
  ResourceId tableId,
  bytes32[] calldata keyTuple,
  uint8 fieldIndex,
  FieldLayout fieldLayout
) external view returns (bytes32);
```

#### getDynamicField

Get a single dynamic field from the given tableId and key tuple at the given dynamic field index.
(Dynamic field index = field index - number of static fields)

```solidity
function getDynamicField(
  ResourceId tableId,
  bytes32[] memory keyTuple,
  uint8 dynamicFieldIndex
) external view returns (bytes memory);
```

#### getFieldLength

Get the byte length of a single field from the given tableId and key tuple, loading the field layout from storage

```solidity
function getFieldLength(
  ResourceId tableId,
  bytes32[] memory keyTuple,
  uint8 fieldIndex
) external view returns (uint256);
```

#### getFieldLength

Get the byte length of a single field from the given tableId and key tuple, with the given value field layout

```solidity
function getFieldLength(
  ResourceId tableId,
  bytes32[] memory keyTuple,
  uint8 fieldIndex,
  FieldLayout fieldLayout
) external view returns (uint256);
```

#### getDynamicFieldLength

Get the byte length of a single dynamic field from the given tableId and key tuple

```solidity
function getDynamicFieldLength(
  ResourceId tableId,
  bytes32[] memory keyTuple,
  uint8 dynamicFieldIndex
) external view returns (uint256);
```

#### getDynamicFieldSlice

Get a byte slice (including start, excluding end) of a single dynamic field from the given tableId and key tuple, with the given value field layout.
The slice is unchecked and will return invalid data if `start`:`end` overflow.

```solidity
function getDynamicFieldSlice(
  ResourceId tableId,
  bytes32[] memory keyTuple,
  uint8 dynamicFieldIndex,
  uint256 start,
  uint256 end
) external view returns (bytes memory data);
```

## IStoreWrite

[Git Source](https://github.com/latticexyz/mud/blob/main/packages/store/src/IStoreWrite.sol)

**Inherits:**
[IStoreEvents](/store/reference/store#istoreevents)

### Functions

#### setRecord

```solidity
function setRecord(
  ResourceId tableId,
  bytes32[] calldata keyTuple,
  bytes calldata staticData,
  EncodedLengths encodedLengths,
  bytes calldata dynamicData
) external;
```

#### spliceStaticData

```solidity
function spliceStaticData(ResourceId tableId, bytes32[] calldata keyTuple, uint48 start, bytes calldata data) external;
```

#### spliceDynamicData

```solidity
function spliceDynamicData(
  ResourceId tableId,
  bytes32[] calldata keyTuple,
  uint8 dynamicFieldIndex,
  uint40 startWithinField,
  uint40 deleteCount,
  bytes calldata data
) external;
```

#### setField

```solidity
function setField(ResourceId tableId, bytes32[] calldata keyTuple, uint8 fieldIndex, bytes calldata data) external;
```

#### setField

```solidity
function setField(
  ResourceId tableId,
  bytes32[] calldata keyTuple,
  uint8 fieldIndex,
  bytes calldata data,
  FieldLayout fieldLayout
) external;
```

#### setStaticField

```solidity
function setStaticField(
  ResourceId tableId,
  bytes32[] calldata keyTuple,
  uint8 fieldIndex,
  bytes calldata data,
  FieldLayout fieldLayout
) external;
```

#### setDynamicField

```solidity
function setDynamicField(
  ResourceId tableId,
  bytes32[] calldata keyTuple,
  uint8 dynamicFieldIndex,
  bytes calldata data
) external;
```

#### pushToDynamicField

```solidity
function pushToDynamicField(
  ResourceId tableId,
  bytes32[] calldata keyTuple,
  uint8 dynamicFieldIndex,
  bytes calldata dataToPush
) external;
```

#### popFromDynamicField

```solidity
function popFromDynamicField(
  ResourceId tableId,
  bytes32[] calldata keyTuple,
  uint8 dynamicFieldIndex,
  uint256 byteLengthToPop
) external;
```

#### deleteRecord

```solidity
function deleteRecord(ResourceId tableId, bytes32[] memory keyTuple) external;
```

## IStoreRegistration

[Git Source](https://github.com/latticexyz/mud/blob/main/packages/store/src/IStoreRegistration.sol)

_This interface includes methods for managing table field layouts, metadata, and hooks, which are usually called once in the setup phase of an application, making them less performance critical than the methods._

### Functions

#### registerTable

[Usage Sample](/store/tables#manually-register-a-table)

```solidity
function registerTable(
  ResourceId tableId,
  FieldLayout fieldLayout,
  Schema keySchema,
  Schema valueSchema,
  string[] calldata keyNames,
  string[] calldata fieldNames
) external;
```

#### registerStoreHook

[Usage Sample](/store/store-hooks)

```solidity
function registerStoreHook(ResourceId tableId, IStoreHook hookAddress, uint8 enabledHooksBitmap) external;
```

#### unregisterStoreHook

```solidity
function unregisterStoreHook(ResourceId tableId, IStoreHook hookAddress) external;
```
