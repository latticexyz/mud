[//]: # "This file is autogenerated, do not change manually"

## CoreModule

[Git Source](https://github.com/latticexyz/mud/blob/main/packages/world/src/modules/core/CoreModule.sol)

**Inherits:**
[Module](./module#module)

Registers internal World tables, systems, and their function selectors.

_This module only supports `installRoot` because it installs root tables, systems and function selectors._

### State Variables

#### accessManagementSystem

```solidity
address internal immutable accessManagementSystem;
```

#### balanceTransferSystem

```solidity
address internal immutable balanceTransferSystem;
```

#### batchCallSystem

```solidity
address internal immutable batchCallSystem;
```

#### coreRegistrationSystem

```solidity
address internal immutable coreRegistrationSystem;
```

### Functions

#### constructor

```solidity
constructor(
  AccessManagementSystem _accessManagementSystem,
  BalanceTransferSystem _balanceTransferSystem,
  BatchCallSystem _batchCallSystem,
  CoreRegistrationSystem _coreRegistrationSystem
);
```

#### installRoot

Root installation of the module.

_Registers core tables, systems, and function selectors in the World._

```solidity
function installRoot(bytes memory) public override;
```

#### install

Non-root installation of the module.

_Installation is only supported at root level, so this function will always revert._

```solidity
function install(bytes memory) public pure;
```

#### \_registerCoreTables

Register core tables in the World.

_This internal function registers various tables and sets initial permissions._

```solidity
function _registerCoreTables() internal;
```

#### \_registerCoreSystems

Register the core systems in the World.

```solidity
function _registerCoreSystems() internal;
```

#### \_registerSystem

Register the core system in the World.

_Uses the CoreRegistrationSystem's `registerSystem` implementation to register the system on the World._

```solidity
function _registerSystem(address target, ResourceId systemId) internal;
```

#### \_registerFunctionSelectors

Register function selectors for all core system functions in the World.

_Iterates through known function signatures and registers them._

```solidity
function _registerFunctionSelectors() internal;
```

#### \_registerRootFunctionSelector

Register the function selector in the World.

_Uses the CoreRegistrationSystem's `registerRootFunctionSelector` to register the function selector._

```solidity
function _registerRootFunctionSelector(ResourceId systemId, string memory functionSignature) internal;
```

## constants.sol

[Git Source](https://github.com/latticexyz/mud/blob/main/packages/world/src/modules/core/constants.sol)

#### ACCESS_MANAGEMENT_SYSTEM_ID

_Resource ID for access management system._

_This ID is derived from the RESOURCE_SYSTEM type, the ROOT_NAMESPACE, and the system name._

```solidity
ResourceId constant ACCESS_MANAGEMENT_SYSTEM_ID = ResourceId.wrap(
  bytes32(abi.encodePacked(RESOURCE_SYSTEM, ROOT_NAMESPACE, bytes16("AccessManagement")))
);
```

#### BALANCE_TRANSFER_SYSTEM_ID

_Resource ID for balance transfer system._

_This ID is derived from the RESOURCE_SYSTEM type, the ROOT_NAMESPACE, and the system name._

```solidity
ResourceId constant BALANCE_TRANSFER_SYSTEM_ID = ResourceId.wrap(
  bytes32(abi.encodePacked(RESOURCE_SYSTEM, ROOT_NAMESPACE, bytes16("BalanceTransfer")))
);
```

#### BATCH_CALL_SYSTEM_ID

_Resource ID for batch call system._

_This ID is derived from the RESOURCE_SYSTEM type, the ROOT_NAMESPACE, and the system name._

```solidity
ResourceId constant BATCH_CALL_SYSTEM_ID = ResourceId.wrap(
  bytes32(abi.encodePacked(RESOURCE_SYSTEM, ROOT_NAMESPACE, bytes16("BatchCall")))
);
```

#### CORE_REGISTRATION_SYSTEM_ID

_Resource ID for core registration system._

_This ID is derived from the RESOURCE_SYSTEM type, the ROOT_NAMESPACE, and the system name._

```solidity
ResourceId constant CORE_REGISTRATION_SYSTEM_ID = ResourceId.wrap(
  bytes32(abi.encodePacked(RESOURCE_SYSTEM, ROOT_NAMESPACE, bytes16("CoreRegistration")))
);
```

## CoreRegistrationSystem

[Git Source](https://github.com/latticexyz/mud/blob/main/packages/world/src/modules/core/CoreRegistrationSystem.sol)

**Inherits:**
[IWorldErrors](./world-external#iworlderrors), [ModuleInstallationSystem](./core-module-implementation#moduleinstallationsystem), [StoreRegistrationSystem](./core-module-implementation#storeregistrationsystem), [WorldRegistrationSystem](./core-module-implementation#worldregistrationsystem)

This system aggregates World registration and installation functionalities externalized from the World contract, aiming to keep the World contract's bytecode lean.

_Aggregates multiple system implementations for the World._

## LimitedCallContext

[Git Source](https://github.com/latticexyz/mud/blob/main/packages/world/src/modules/core/LimitedCallContext.sol)

_Systems are expected to be always called via the central World contract.
Depending on whether it is a root or non-root system, the call is performed via `delegatecall` or `call`.
Since Systems are expected to be stateless and only interact with the World state,
it is normally not necessary to prevent direct calls to the systems.
However, since the `CoreSystem` is known to always be registered as a root system in the World,
it is always expected to be delegatecalled, so we made this expectation explicit by reverting if it is not delegatecalled._

_Based on OpenZeppelin's UUPSUpgradeable.sol
https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.0.0/contracts/proxy/utils/UUPSUpgradeable.sol#L50_

### State Variables

#### \_\_self

```solidity
address private immutable __self = address(this);
```

### Functions

#### onlyDelegatecall

```solidity
modifier onlyDelegatecall();
```

#### \_checkDelegatecall

_Reverts if the execution is not performed via delegatecall._

```solidity
function _checkDelegatecall() internal view virtual;
```

### Errors

#### UnauthorizedCallContext

```solidity
error UnauthorizedCallContext();
```

## SystemCallData

[Git Source](https://github.com/latticexyz/mud/blob/main/packages/world/src/modules/core/types.sol)

Holds data for making system calls.

_Used to represent a call to a specific system identified by a ResourceId._

```solidity
struct SystemCallData {
  ResourceId systemId;
  bytes callData;
}
```

## SystemCallFromData

[Git Source](https://github.com/latticexyz/mud/blob/main/packages/world/src/modules/core/types.sol)

Holds data for making system calls with a specific sender.

_Used to represent a call from a specific address to a specific system._

```solidity
struct SystemCallFromData {
  address from;
  ResourceId systemId;
  bytes callData;
}
```
