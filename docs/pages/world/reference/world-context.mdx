[//]: # "This file is autogenerated, do not change manually"

## WorldContextConsumer

[Git Source](https://github.com/latticexyz/mud/blob/main/packages/world/src/WorldContext.sol)

**Inherits:**
[IWorldContextConsumer](/world/reference/world-context-external#iworldcontextconsumer)

This contract is designed to extract trusted context values (like msg.sender and msg.value)
from the appended calldata. It provides mechanisms similar to EIP-2771 (https://eips.ethereum.org/EIPS/eip-2771),
but allowing any contract to be the trusted forwarder.

_This contract should only be used for contracts without their own storage, like Systems._

### Functions

#### \_msgSender

Extract the `msg.sender` from the context appended to the calldata.

```solidity
function _msgSender() public view virtual returns (address sender);
```

**Returns**

| Name     | Type      | Description                                                                                                               |
| -------- | --------- | ------------------------------------------------------------------------------------------------------------------------- |
| `sender` | `address` | The `msg.sender` in the call to the World contract before the World routed the call to the WorldContextConsumer contract. |

#### \_msgValue

Extract the `msg.value` from the context appended to the calldata.

```solidity
function _msgValue() public view virtual returns (uint256 value);
```

**Returns**

| Name    | Type      | Description                                                                                                              |
| ------- | --------- | ------------------------------------------------------------------------------------------------------------------------ |
| `value` | `uint256` | The `msg.value` in the call to the World contract before the World routed the call to the WorldContextConsumer contract. |

#### \_world

Get the address of the World contract that routed the call to this WorldContextConsumer.

```solidity
function _world() public view returns (address);
```

**Returns**

| Name     | Type      | Description                                                                          |
| -------- | --------- | ------------------------------------------------------------------------------------ |
| `<none>` | `address` | The address of the World contract that routed the call to this WorldContextConsumer. |

#### supportsInterface

Checks if an interface is supported by the contract.
using ERC-165 supportsInterface (see https://eips.ethereum.org/EIPS/eip-165)

```solidity
function supportsInterface(bytes4 interfaceId) public pure virtual returns (bool);
```

**Parameters**

| Name          | Type     | Description                          |
| ------------- | -------- | ------------------------------------ |
| `interfaceId` | `bytes4` | The ID of the interface in question. |

**Returns**

| Name     | Type   | Description                                          |
| -------- | ------ | ---------------------------------------------------- |
| `<none>` | `bool` | True if the interface is supported, false otherwise. |

## WorldContext.sol constants

[Git Source](https://github.com/latticexyz/mud/blob/main/packages/world/src/WorldContext.sol)

#### CONTEXT_BYTES

```solidity
uint256 constant CONTEXT_BYTES = 20 + 32;
```

## WorldContextConsumerLib

[Git Source](https://github.com/latticexyz/mud/blob/main/packages/world/src/WorldContext.sol)

Helpers for working with data in the context of calling a World

### Functions

#### \_msgSender

Extract the `msg.sender` from the context appended to the calldata.

```solidity
function _msgSender() internal view returns (address sender);
```

**Returns**

| Name     | Type      | Description                                                                                                               |
| -------- | --------- | ------------------------------------------------------------------------------------------------------------------------- |
| `sender` | `address` | The `msg.sender` in the call to the World contract before the World routed the call to the WorldContextConsumer contract. |

#### \_msgValue

Extract the `msg.value` from the context appended to the calldata.

```solidity
function _msgValue() internal pure returns (uint256 value);
```

**Returns**

| Name    | Type      | Description                                                                                                              |
| ------- | --------- | ------------------------------------------------------------------------------------------------------------------------ |
| `value` | `uint256` | The `msg.value` in the call to the World contract before the World routed the call to the WorldContextConsumer contract. |

#### \_world

Get the address of the World contract that routed the call to this WorldContextConsumer.

```solidity
function _world() internal view returns (address);
```

**Returns**

| Name     | Type      | Description                                                                          |
| -------- | --------- | ------------------------------------------------------------------------------------ |
| `<none>` | `address` | The address of the World contract that routed the call to this WorldContextConsumer. |

## WorldContextProviderLib

[Git Source](https://github.com/latticexyz/mud/blob/main/packages/world/src/WorldContext.sol)

This library provides functions to make calls or delegatecalls to other contracts,
appending the context values (like msg.sender and msg.value) to the calldata for WorldContextConsumer to consume.

### Functions

#### appendContext

Appends context values to the given calldata.

```solidity
function appendContext(bytes memory callData, address msgSender, uint256 msgValue) internal pure returns (bytes memory);
```

**Parameters**

| Name        | Type      | Description                                             |
| ----------- | --------- | ------------------------------------------------------- |
| `callData`  | `bytes`   | The original calldata.                                  |
| `msgSender` | `address` | The address of the transaction sender.                  |
| `msgValue`  | `uint256` | The amount of ether sent with the original transaction. |

**Returns**

| Name     | Type    | Description                                    |
| -------- | ------- | ---------------------------------------------- |
| `<none>` | `bytes` | The new calldata with context values appended. |

#### callWithContext

Makes a call to the target contract with context values appended to the calldata.

```solidity
function callWithContext(
  address msgSender,
  uint256 msgValue,
  address target,
  bytes memory callData
) internal returns (bool success, bytes memory data);
```

**Parameters**

| Name        | Type      | Description                                             |
| ----------- | --------- | ------------------------------------------------------- |
| `msgSender` | `address` | The address of the transaction sender.                  |
| `msgValue`  | `uint256` | The amount of ether sent with the original transaction. |
| `target`    | `address` | The address of the contract to call.                    |
| `callData`  | `bytes`   | The calldata for the call.                              |

**Returns**

| Name      | Type    | Description                                                  |
| --------- | ------- | ------------------------------------------------------------ |
| `success` | `bool`  | A boolean indicating whether the call was successful or not. |
| `data`    | `bytes` | The abi encoded return data from the call.                   |

#### staticcallWithContext

Makes a staticcall to the target contract with context values appended to the calldata.

```solidity
function staticcallWithContext(
  address msgSender,
  address target,
  bytes memory callData
) internal view returns (bool success, bytes memory data);
```

**Parameters**

| Name        | Type      | Description                            |
| ----------- | --------- | -------------------------------------- |
| `msgSender` | `address` | The address of the transaction sender. |
| `target`    | `address` | The address of the contract to call.   |
| `callData`  | `bytes`   | The calldata for the staticcall.       |

**Returns**

| Name      | Type    | Description                                                        |
| --------- | ------- | ------------------------------------------------------------------ |
| `success` | `bool`  | A boolean indicating whether the staticcall was successful or not. |
| `data`    | `bytes` | The abi encoded return data from the staticcall.                   |

#### delegatecallWithContext

Makes a delegatecall to the target contract with context values appended to the calldata.

```solidity
function delegatecallWithContext(
  address msgSender,
  uint256 msgValue,
  address target,
  bytes memory callData
) internal returns (bool success, bytes memory data);
```

**Parameters**

| Name        | Type      | Description                                             |
| ----------- | --------- | ------------------------------------------------------- |
| `msgSender` | `address` | The address of the transaction sender.                  |
| `msgValue`  | `uint256` | The amount of ether sent with the original transaction. |
| `target`    | `address` | The address of the contract to call.                    |
| `callData`  | `bytes`   | The calldata for the call.                              |

**Returns**

| Name      | Type    | Description                                                  |
| --------- | ------- | ------------------------------------------------------------ |
| `success` | `bool`  | A boolean indicating whether the call was successful or not. |
| `data`    | `bytes` | The abi encoded return data from the call.                   |

#### callWithContextOrRevert

Makes a call to the target contract with context values appended to the calldata.

_Revert in the case of failure._

```solidity
function callWithContextOrRevert(
  address msgSender,
  uint256 msgValue,
  address target,
  bytes memory callData
) internal returns (bytes memory data);
```

**Parameters**

| Name        | Type      | Description                                             |
| ----------- | --------- | ------------------------------------------------------- |
| `msgSender` | `address` | The address of the transaction sender.                  |
| `msgValue`  | `uint256` | The amount of ether sent with the original transaction. |
| `target`    | `address` | The address of the contract to call.                    |
| `callData`  | `bytes`   | The calldata for the call.                              |

**Returns**

| Name   | Type    | Description                                |
| ------ | ------- | ------------------------------------------ |
| `data` | `bytes` | The abi encoded return data from the call. |

#### delegatecallWithContextOrRevert

Makes a delegatecall to the target contract with context values appended to the calldata.

_Revert in the case of failure._

```solidity
function delegatecallWithContextOrRevert(
  address msgSender,
  uint256 msgValue,
  address target,
  bytes memory callData
) internal returns (bytes memory data);
```

**Parameters**

| Name        | Type      | Description                                             |
| ----------- | --------- | ------------------------------------------------------- |
| `msgSender` | `address` | The address of the transaction sender.                  |
| `msgValue`  | `uint256` | The amount of ether sent with the original transaction. |
| `target`    | `address` | The address of the contract to call.                    |
| `callData`  | `bytes`   | The calldata for the call.                              |

**Returns**

| Name   | Type    | Description                                |
| ------ | ------- | ------------------------------------------ |
| `data` | `bytes` | The abi encoded return data from the call. |
