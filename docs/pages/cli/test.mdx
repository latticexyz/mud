# mud test

This command runs the tests in a MUD project. Internally, it runs the following steps:

1. Starts an [`anvil`](https://book.getfoundry.sh/reference/anvil/) instance.
   {/* This could be either an empty blockchain, or one that can be forked for a [fork test](https://book.getfoundry.sh/forge/fork-testing). */}
1. Deploys the `World` and all related `System`s using [`mud deploy`](./deploy).
1. Runs tests using [`forge test`](https://book.getfoundry.sh/forge/tests) and passes the deployed world address to the tests via the `WORLD_ADDRESS` environment variable.

## Command line options

| Option                  | Meaning                                        | Type    | Default value                                              |
| ----------------------- | ---------------------------------------------- | ------- | ---------------------------------------------------------- |
| `--version`             | Show version number                            | boolean | `false`                                                    |
| `--configPath`          | Path to the config file                        | string  | `mud.config.ts`                                            |
| `--printConfig`         | Print the resolved config                      | boolean | `false`                                                    |
| `--saveDeployment`      | Save the deployment info to a file             | boolean | `true`                                                     |
| `--profile`             | The foundry profile to use                     | string  | `local`                                                    |
| `--srcDir`              | Source directory                               | string  | Foundry `src` directory                                    |
| `--skipBuild`           | Skip rebuilding the contracts before deploying | boolean | `false`                                                    |
| `--alwaysRunPostDeploy` | Run `PostDeploy.s.sol` after each deploy       | boolean | `false` (run the script only when deploying a new `World`) |
| `--port`                | Port for the testing `anvil` instance          | number  | 4242                                                       |
| `--help`                | Show help                                      | boolean | `false`                                                    |

## Examples

```sh copy
pnpm mud test
```
